{% extends "base.html" %}

{% block title %}Connexion - TransGlory Tunisie{% endblock %}

{% block css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/login.css') }}">
{% endblock %}

{% block content %}
<div class="login-page">
    <div class="login-container">
        <div class="login-card">
            <div class="login-header">
                <img src="{{ url_for('static', filename='img/Transglory.png') }}" 
                     alt="TransGlory Tunisie" 
                     class="login-logo">
                <h1 class="login-title">Espace E-Trans</h1>
                <p class="login-subtitle">
                    Connectez-vous pour accéder à votre espace personnel
                </p>
            </div>

            <form method="POST" id="loginForm">
                <div class="form-group">
                    <label for="username" class="form-label">Nom d'utilisateur</label>
                    <div class="input-group">
                        <span class="input-group-text">
                            <i class="fas fa-user"></i>
                        </span>
                        <input type="text" 
                               class="form-control" 
                               id="username" 
                               name="username" 
                               placeholder="Votre nom d'utilisateur" 
                               required
                               autocomplete="username"
                               autofocus>
                    </div>
                </div>

                <div class="form-group">
                    <label for="password" class="form-label">Mot de passe</label>
                    <div class="input-group">
                        <span class="input-group-text">
                            <i class="fas fa-lock"></i>
                        </span>
                        <input type="password" 
                               class="form-control" 
                               id="password" 
                               name="password" 
                               placeholder="Votre mot de passe" 
                               required
                               autocomplete="current-password">
                    </div>
                </div>

                <div class="remember-forgot">
                    <div class="form-check">
                        <input class="form-check-input" 
                               type="checkbox" 
                               id="remember" 
                               name="remember">
                        <label class="form-check-label" for="remember">
                            Se souvenir de moi
                        </label>
                    </div>
                    <a href="{{ url_for('auth.forgot_password') }}" class="forgot-link">
                        Mot de passe oublié ?
                    </a>
                </div>

                <button type="submit" class="btn btn-login w-100" id="submitBtn">
                    Se connecter
                </button>
            </form>

            <div class="login-footer">
                <p class="footer-text">
                    Problème de connexion ? 
                    <a href="mailto:support@transglory.tn" class="footer-link">
                        Contactez le support
                    </a>
                </p>
                <p class="footer-text">
                    © 2024 TransGlory Tunisie. Tous droits réservés.
                </p>
            </div>
        </div>
    </div>
</div>

<script>
    document.getElementById('loginForm').addEventListener('submit', function(e) {
        const submitBtn = document.getElementById('submitBtn');
        submitBtn.classList.add('loading');
        submitBtn.innerHTML = '<span>Connexion en cours...</span>';
    });
</script>
{% endblock %}